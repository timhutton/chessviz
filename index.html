<html>
<body>

<!--    Copyright 2017 Tim Hutton <tim.hutton@gmail.com>

        This file is part of chessviz.

        chessviz is free software: you can redistribute it and/or modify
        it under the terms of the GNU General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        chessviz is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
        GNU General Public License for more details.

        You should have received a copy of the GNU General Public License
        along with chessviz. If not, see <http://www.gnu.org/licenses/>          -->

<canvas id="myCanvas" width="900" height="900" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>
// output from extract_moves.py
var moves = [[[[0, 38293, 28193, 28759, 17646, 17572, 18296, 19662], [115299, 9032, 2011, 0, 0, 0, 0, 0], [191424, 2501, 4633, 0, 0, 0, 0, 0], [231378, 0, 0, 4362, 0, 0, 0, 0], [106647, 0, 0, 0, 3693, 0, 0, 0], [42819, 0, 0, 0, 0, 2136, 0, 0], [13393, 0, 0, 0, 0, 0, 918, 0], [9157, 0, 0, 0, 0, 0, 0, 264]], [[26584, 0, 289297, 315827, 9323, 7056, 6195, 5425], [15890, 21165, 68426, 8577, 0, 0, 0, 0], [4918, 13411, 8085, 10073, 0, 0, 0, 0], [0, 10866, 0, 0, 10068, 0, 0, 0], [0, 9134, 0, 0, 0, 6781, 0, 0], [0, 6684, 0, 0, 0, 0, 2610, 0], [0, 4679, 0, 0, 0, 0, 0, 700], [0, 3607, 0, 0, 0, 0, 0, 0]], [[10708, 35417, 0, 82265, 10760, 8236, 7306, 5272], [5153, 20964, 20189, 71951, 15872, 0, 0, 0], [9181, 35315, 12532, 27967, 15140, 0, 0, 0], [0, 0, 7733, 0, 0, 11056, 0, 0], [0, 0, 6549, 0, 0, 0, 8177, 0], [0, 0, 5259, 0, 0, 0, 0, 4931], [0, 0, 4518, 0, 0, 0, 0, 0], [0, 0, 3115, 0, 0, 0, 0, 0]], [[10971, 14281, 61516, 0, 147338, 11873, 9643, 6826], [0, 11758, 106230, 20177, 89327, 26129, 0, 0], [0, 26921, 25310, 17376, 32069, 24480, 0, 0], [9236, 0, 0, 9152, 0, 0, 13778, 0], [0, 0, 0, 7984, 0, 0, 0, 5659], [0, 0, 0, 5329, 0, 0, 0, 0], [0, 0, 0, 3677, 0, 0, 0, 0], [0, 0, 0, 3915, 0, 0, 0, 0]], [[7893, 14125, 12704, 139985, 0, 66212, 13314, 10479], [0, 0, 27883, 73775, 21999, 51042, 17768, 0], [0, 0, 17709, 43027, 24161, 40919, 40241, 0], [0, 17758, 0, 0, 12884, 0, 0, 23534], [5716, 0, 0, 0, 12345, 0, 0, 0], [0, 0, 0, 0, 6644, 0, 0, 0], [0, 0, 0, 0, 4985, 0, 0, 0], [0, 0, 0, 0, 7201, 0, 0, 0]], [[5413, 7612, 7570, 9800, 193348, 0, 43025, 14126], [0, 0, 0, 12099, 107876, 21544, 28639, 4027], [0, 0, 0, 20155, 14223, 15034, 12758, 13587], [0, 0, 16124, 0, 0, 10086, 0, 0], [0, 10804, 0, 0, 0, 6774, 0, 0], [6940, 0, 0, 0, 0, 4709, 0, 0], [0, 0, 0, 0, 0, 3404, 0, 0], [0, 0, 0, 0, 0, 2407, 0, 0]], [[5371, 6438, 6531, 8054, 159861, 608464, 0, 29224], [0, 0, 0, 0, 7040, 39368, 24763, 14504], [0, 0, 0, 0, 9916, 6510, 19646, 4414], [0, 0, 0, 10780, 0, 0, 15763, 0], [0, 0, 10660, 0, 0, 0, 12469, 0], [0, 4429, 0, 0, 0, 0, 8878, 0], [1206, 0, 0, 0, 0, 0, 5409, 0], [0, 0, 0, 0, 0, 0, 3991, 0]], [[15201, 17739, 13089, 15557, 20552, 28021, 56377, 0], [0, 0, 0, 0, 0, 2978, 12133, 187408], [0, 0, 0, 0, 0, 8699, 3233, 287456], [0, 0, 0, 0, 7446, 0, 0, 170880], [0, 0, 0, 6331, 0, 0, 0, 81792], [0, 0, 3439, 0, 0, 0, 0, 35737], [0, 1516, 0, 0, 0, 0, 0, 14786], [374, 0, 0, 0, 0, 0, 0, 9821]]], [[[34662, 25402, 40728, 0, 0, 0, 0, 0], [0, 41784, 19892, 13861, 12098, 10779, 16329, 9425], [42216, 27626, 768406, 0, 0, 0, 0, 0], [26511, 207278, 11758, 0, 0, 0, 0, 0], [19164, 0, 0, 9790, 0, 0, 0, 0], [12440, 0, 0, 0, 5033, 0, 0, 0], [6282, 0, 0, 0, 0, 2840, 0, 0], [5296, 0, 0, 0, 0, 0, 1092, 0]], [[12804, 22886, 44111, 5167, 0, 0, 0, 0], [23837, 0, 322868, 197628, 7710, 7933, 6911, 5028], [26290, 25204, 137992, 10341, 0, 0, 0, 0], [4098, 14508, 9469, 26263, 0, 0, 0, 0], [0, 11057, 0, 0, 20214, 0, 0, 0], [0, 8445, 0, 0, 0, 12868, 0, 0], [0, 5115, 0, 0, 0, 0, 7279, 0], [0, 3644, 0, 0, 0, 0, 0, 608]], [[4068, 19016, 21951, 45236, 27858, 0, 0, 0], [8820, 34745, 0, 116404, 12227, 12533, 13008, 5643], [16079, 84229, 25108, 81251, 37583, 0, 0, 0], [18192, 35230, 14093, 51380, 38737, 0, 0, 0], [0, 0, 10570, 0, 0, 20211, 0, 0], [0, 0, 7805, 0, 0, 0, 8981, 0], [0, 0, 5678, 0, 0, 0, 0, 1554], [0, 0, 3791, 0, 0, 0, 0, 0]], [[0, 6523, 26703, 19468, 40648, 10603, 0, 0], [6713, 13289, 57832, 0, 111058, 14580, 11998, 8109], [0, 15215, 95975, 20908, 64925, 25551, 0, 0], [0, 24204, 24897, 14048, 28699, 25679, 0, 0], [8793, 0, 0, 8582, 0, 0, 26963, 0], [0, 0, 0, 5875, 0, 0, 0, 7788], [0, 0, 0, 4098, 0, 0, 0, 0], [0, 0, 0, 3791, 0, 0, 0, 0]], [[0, 0, 37722, 132635, 18664, 20866, 7829, 0], [4879, 8199, 9760, 215891, 0, 54700, 13891, 8795], [0, 0, 27496, 93085, 18774, 116174, 15748, 0], [0, 0, 29065, 26178, 11659, 27074, 43644, 0], [0, 21895, 0, 0, 6773, 0, 0, 8834], [14535, 0, 0, 0, 4362, 0, 0, 0], [0, 0, 0, 0, 3404, 0, 0, 0], [0, 0, 0, 0, 2883, 0, 0, 0]], [[0, 0, 0, 16916, 41216, 27055, 17559, 5615], [4590, 18102, 12799, 18993, 98708, 0, 47907, 12721], [0, 0, 0, 41908, 67305, 33747, 63471, 16324], [0, 0, 0, 32160, 44690, 17395, 32534, 27012], [0, 0, 22678, 0, 0, 10238, 0, 0], [0, 11863, 0, 0, 0, 7585, 0, 0], [3019, 0, 0, 0, 0, 4853, 0, 0], [0, 0, 0, 0, 0, 2981, 0, 0]], [[0, 0, 0, 0, 5523, 48985, 25122, 26081], [4614, 7929, 8412, 11768, 417941, 256524, 0, 27440], [0, 0, 0, 0, 12568, 181702, 32339, 49312], [0, 0, 0, 0, 61227, 9419, 19860, 6314], [0, 0, 0, 43004, 0, 0, 15535, 0], [0, 0, 21486, 0, 0, 0, 10620, 0], [0, 12626, 0, 0, 0, 0, 5575, 0], [1154, 0, 0, 0, 0, 0, 3877, 0]], [[0, 0, 0, 0, 0, 23294, 19110, 42339], [9787, 21829, 13356, 23940, 20693, 29873, 49724, 0], [0, 0, 0, 0, 0, 726394, 24074, 52533], [0, 0, 0, 0, 0, 9500, 283003, 36184], [0, 0, 0, 0, 8750, 0, 0, 23789], [0, 0, 0, 4638, 0, 0, 0, 16094], [0, 0, 2322, 0, 0, 0, 0, 8381], [0, 875, 0, 0, 0, 0, 0, 7077]]], [[[19209, 3511, 26817, 0, 0, 0, 0, 0], [125290, 119241, 8315, 0, 0, 0, 0, 0], [0, 70252, 34573, 24241, 23769, 21154, 25429, 27423], [62939, 151980, 13674, 0, 0, 0, 0, 0], [28926, 9686, 406998, 0, 0, 0, 0, 0], [17002, 0, 0, 120487, 0, 0, 0, 0], [8354, 0, 0, 0, 260135, 0, 0, 0], [6759, 0, 0, 0, 0, 20653, 0, 0]], [[3812, 15432, 6666, 19556, 0, 0, 0, 0], [24907, 34902, 76545, 14607, 0, 0, 0, 0], [28538, 0, 433293, 361652, 13560, 11148, 11407, 9153], [29503, 47323, 81238, 17451, 0, 0, 0, 0], [7322, 30410, 31179, 33747, 0, 0, 0, 0], [0, 16284, 0, 0, 16477, 0, 0, 0], [0, 8242, 0, 0, 0, 9123, 0, 0], [0, 4592, 0, 0, 0, 0, 3368, 0]], [[5374, 17333, 13581, 81599, 13246, 0, 0, 0], [15936, 24275, 26021, 58078, 63304, 0, 0, 0], [10897, 39624, 0, 141916, 14128, 10771, 12181, 9058], [43834, 32833, 30047, 155990, 251814, 0, 0, 0], [12287, 122665, 16645, 145445, 18872, 0, 0, 0], [0, 0, 10540, 0, 0, 11968, 0, 0], [0, 0, 8344, 0, 0, 0, 6558, 0], [0, 0, 5077, 0, 0, 0, 0, 1092]], [[0, 16632, 11358, 16177, 19027, 12966, 0, 0], [0, 12197, 135063, 24420, 74251, 27587, 0, 0], [9070, 17049, 52894, 0, 130300, 17471, 16954, 12153], [0, 19686, 81269, 27501, 154283, 33269, 0, 0], [0, 37470, 46886, 15894, 37745, 31104, 0, 0], [14041, 0, 0, 8655, 0, 0, 14971, 0], [0, 0, 0, 6183, 0, 0, 0, 2592], [0, 0, 0, 5874, 0, 0, 0, 0]], [[0, 0, 10207, 20071, 17891, 11819, 18753, 0], [0, 0, 24656, 58092, 22010, 64244, 12756, 0], [7776, 11950, 14483, 123479, 0, 60860, 22608, 12898], [0, 0, 35488, 589282, 28645, 55008, 28211, 0], [0, 0, 35829, 36625, 18008, 38773, 34192, 0], [0, 17911, 0, 0, 7477, 0, 0, 14230], [3966, 0, 0, 0, 6528, 0, 0, 0], [0, 0, 0, 0, 6360, 0, 0, 0]], [[0, 0, 0, 17084, 108146, 15946, 11951, 8491], [0, 0, 0, 67573, 54334, 31840, 32111, 27571], [6797, 11106, 10933, 17053, 172089, 0, 51522, 15220], [0, 0, 0, 206260, 122643, 31933, 43375, 26918], [0, 0, 0, 30841, 136226, 14513, 84949, 17632], [0, 0, 15046, 0, 0, 8473, 0, 0], [0, 8760, 0, 0, 0, 5781, 0, 0], [1449, 0, 0, 0, 0, 3255, 0, 0]], [[0, 0, 0, 0, 31597, 7317, 21646, 6471], [0, 0, 0, 0, 11674, 71736, 61400, 40728], [8899, 16062, 17701, 31449, 719013, 293531, 0, 40860], [0, 0, 0, 0, 16341, 61755, 64716, 46240], [0, 0, 0, 0, 33622, 18773, 44807, 8707], [0, 0, 0, 16594, 0, 0, 19768, 0], [0, 0, 7974, 0, 0, 0, 9270, 0], [0, 2726, 0, 0, 0, 0, 4667, 0]], [[0, 0, 0, 0, 0, 46936, 3411, 28969], [0, 0, 0, 0, 0, 7769, 295031, 76939], [28510, 32098, 33253, 49566, 46873, 49797, 90198, 0], [0, 0, 0, 0, 0, 9714, 288347, 75276], [0, 0, 0, 0, 0, 214831, 8507, 36894], [0, 0, 0, 0, 114015, 0, 0, 23183], [0, 0, 0, 130129, 0, 0, 0, 11829], [0, 0, 11024, 0, 0, 0, 0, 9551]]], [[[29398, 0, 0, 32774, 0, 0, 0, 0], [32186, 4899, 70884, 0, 0, 0, 0, 0], [86492, 112817, 9637, 0, 0, 0, 0, 0], [0, 323739, 126665, 127530, 64829, 52714, 37754, 60642], [130388, 220646, 22407, 0, 0, 0, 0, 0], [43955, 14132, 115462, 0, 0, 0, 0, 0], [23618, 0, 0, 36299, 0, 0, 0, 0], [17442, 0, 0, 0, 36650, 0, 0, 0]], [[0, 12619, 0, 0, 19900, 0, 0, 0], [9295, 21822, 52199, 33464, 0, 0, 0, 0], [33192, 52444, 86894, 78960, 0, 0, 0, 0], [34716, 0, 250292, 846638, 25393, 21566, 13361, 14195], [42198, 71601, 91334, 63345, 0, 0, 0, 0], [63724, 42344, 64866, 42518, 0, 0, 0, 0], [0, 15253, 0, 0, 31384, 0, 0, 0], [0, 9001, 0, 0, 0, 22066, 0, 0]], [[0, 0, 9312, 0, 0, 17052, 0, 0], [22467, 9481, 18175, 14023, 32858, 0, 0, 0], [7449, 59173, 42232, 108849, 20717, 0, 0, 0], [17266, 55506, 0, 117102, 20862, 14399, 11881, 10968], [8276, 69318, 48699, 121101, 21136, 0, 0, 0], [23664, 11472, 24842, 20324, 30669, 0, 0, 0], [0, 0, 20247, 0, 0, 16756, 0, 0], [0, 0, 11907, 0, 0, 0, 10456, 0]], [[4346, 0, 0, 12503, 0, 0, 10306, 0], [0, 14721, 126098, 17563, 75291, 23327, 0, 0], [0, 23642, 64139, 32735, 105667, 120444, 0, 0], [17260, 35670, 79399, 0, 145411, 17344, 12984, 12768], [0, 53737, 68518, 34229, 146448, 43098, 0, 0], [0, 18998, 76225, 16050, 58332, 25283, 0, 0], [5313, 0, 0, 9778, 0, 0, 20210, 0], [0, 0, 0, 11174, 0, 0, 0, 1938]], [[0, 8342, 0, 0, 31143, 0, 0, 6331], [0, 0, 18948, 30016, 14630, 48537, 17475, 0], [0, 0, 48995, 134630, 31349, 62848, 24402, 0], [15912, 16705, 18311, 123193, 0, 84029, 21301, 21436], [0, 0, 43302, 126890, 32068, 60493, 43730, 0], [0, 0, 18971, 43837, 14822, 55989, 13524, 0], [0, 9524, 0, 0, 7287, 0, 0, 3181], [1606, 0, 0, 0, 9363, 0, 0, 0]], [[0, 0, 9350, 0, 0, 11809, 0, 0], [0, 0, 0, 23673, 12261, 18901, 10957, 14248], [0, 0, 0, 19551, 92678, 39001, 50533, 8719], [11878, 13236, 11358, 17199, 223865, 0, 55496, 21188], [0, 0, 0, 20259, 178817, 38456, 57077, 8787], [0, 0, 0, 27360, 25256, 17887, 12022, 17180], [0, 0, 13502, 0, 0, 9572, 0, 0], [0, 8394, 0, 0, 0, 5442, 0, 0]], [[0, 0, 0, 20936, 0, 0, 15424, 0], [0, 0, 0, 0, 37803, 95394, 26587, 16003], [0, 0, 0, 0, 128011, 181397, 59350, 41530], [12000, 11511, 12157, 15367, 390418, 614107, 0, 38094], [0, 0, 0, 0, 116682, 85636, 55997, 49866], [0, 0, 0, 0, 38422, 103643, 22828, 44540], [0, 0, 0, 27829, 0, 0, 9769, 0], [0, 0, 10617, 0, 0, 0, 5304, 0]], [[0, 0, 0, 0, 101798, 0, 0, 30372], [0, 0, 0, 0, 0, 143092, 5168, 42369], [0, 0, 0, 0, 0, 8693, 308336, 101351], [56275, 32959, 30867, 50156, 123049, 82279, 190041, 0], [0, 0, 0, 0, 0, 12998, 139618, 96506], [0, 0, 0, 0, 0, 82603, 8699, 37958], [0, 0, 0, 0, 29001, 0, 0, 19254], [0, 0, 0, 27672, 0, 0, 0, 14614]]], [[[21258, 0, 0, 0, 5072, 0, 0, 0], [21345, 0, 0, 7880, 0, 0, 0, 0], [196071, 9810, 12543, 0, 0, 0, 0, 0], [99072, 44145, 16060, 0, 0, 0, 0, 0], [0, 103672, 68884, 50714, 45635, 24992, 23831, 26794], [64950, 39161, 11367, 0, 0, 0, 0, 0], [784591, 5564, 24652, 0, 0, 0, 0, 0], [12604, 0, 0, 14904, 0, 0, 0, 0]], [[0, 9934, 0, 0, 0, 14996, 0, 0], [0, 15798, 0, 0, 27214, 0, 0, 0], [16784, 30086, 35820, 59646, 0, 0, 0, 0], [43235, 77369, 117915, 59953, 0, 0, 0, 0], [36223, 0, 217758, 881119, 21238, 12098, 9914, 7924], [45083, 59129, 153290, 49536, 0, 0, 0, 0], [8100, 15271, 60392, 44634, 0, 0, 0, 0], [0, 6841, 0, 0, 30974, 0, 0, 0]], [[0, 0, 6702, 0, 0, 0, 16903, 0], [0, 0, 10683, 0, 0, 44145, 0, 0], [29703, 13974, 18403, 26618, 60370, 0, 0, 0], [9538, 73138, 50617, 187017, 39966, 0, 0, 0], [14851, 54319, 0, 111136, 16097, 8659, 8574, 6678], [9561, 65100, 45207, 96418, 29060, 0, 0, 0], [11549, 8767, 24244, 23044, 56683, 0, 0, 0], [0, 0, 12085, 0, 0, 39215, 0, 0]], [[0, 0, 0, 7598, 0, 0, 0, 4936], [7401, 0, 0, 8739, 0, 0, 15470, 0], [0, 19193, 41202, 14851, 47261, 20287, 0, 0], [0, 30091, 48952, 32191, 298560, 52149, 0, 0], [13749, 22276, 73044, 0, 297702, 11531, 9709, 8319], [0, 14587, 56925, 30783, 114238, 53593, 0, 0], [0, 13534, 28305, 15482, 35280, 15530, 0, 0], [2630, 0, 0, 13882, 0, 0, 6465, 0]], [[3279, 0, 0, 0, 8318, 0, 0, 0], [0, 12337, 0, 0, 7066, 0, 0, 7250], [0, 0, 18392, 66146, 16087, 47404, 16487, 0], [0, 0, 42564, 169998, 31523, 79813, 40307, 0], [14766, 13607, 14238, 146708, 0, 69999, 16013, 11000], [0, 0, 41704, 112202, 28677, 96318, 17137, 0], [0, 0, 16636, 33944, 15102, 37048, 15908, 0], [0, 6244, 0, 0, 11419, 0, 0, 2728]], [[0, 9835, 0, 0, 0, 6364, 0, 0], [0, 0, 21710, 0, 0, 7993, 0, 0], [0, 0, 0, 41938, 19141, 13306, 11678, 16697], [0, 0, 0, 25483, 197510, 39245, 56458, 7664], [7093, 8501, 7324, 12146, 251349, 0, 44590, 12234], [0, 0, 0, 20396, 108472, 36021, 46958, 9081], [0, 0, 0, 27077, 15318, 14997, 8953, 5335], [0, 0, 11798, 0, 0, 6770, 0, 0]], [[0, 0, 12279, 0, 0, 0, 11331, 0], [0, 0, 0, 33605, 0, 0, 17555, 0], [0, 0, 0, 0, 69393, 49071, 29673, 15481], [0, 0, 0, 0, 46186, 132260, 66644, 79030], [8002, 8843, 8729, 12663, 383424, 625337, 0, 37352], [0, 0, 0, 0, 46932, 204966, 46039, 98926], [0, 0, 0, 0, 71111, 54291, 12388, 8895], [0, 0, 0, 31982, 0, 0, 5650, 0]], [[0, 0, 0, 5018, 0, 0, 0, 17071], [0, 0, 0, 0, 7791, 0, 0, 20941], [0, 0, 0, 0, 0, 14962, 20434, 111707], [0, 0, 0, 0, 0, 17875, 61131, 98995], [25901, 19512, 17534, 28019, 38785, 47802, 114537, 0], [0, 0, 0, 0, 0, 18813, 49139, 80943], [0, 0, 0, 0, 0, 12804, 10930, 776990], [0, 0, 0, 0, 7905, 0, 0, 10939]]], [[[21004, 0, 0, 0, 0, 7791, 0, 0], [26504, 0, 0, 0, 236346, 0, 0, 0], [60655, 0, 0, 206588, 0, 0, 0, 0], [189076, 10672, 218887, 0, 0, 0, 0, 0], [334145, 284117, 31719, 0, 0, 0, 0, 0], [0, 85469, 53178, 31268, 20663, 17706, 14444, 12331], [44612, 188826, 32693, 0, 0, 0, 0, 0], [12147, 5420, 18161, 0, 0, 0, 0, 0]], [[0, 5614, 0, 0, 0, 0, 4279, 0], [0, 8402, 0, 0, 0, 8863, 0, 0], [0, 12116, 0, 0, 13354, 0, 0, 0], [5383, 24823, 11290, 21102, 0, 0, 0, 0], [31121, 60420, 113029, 10084, 0, 0, 0, 0], [30994, 0, 322075, 402116, 8662, 7547, 6053, 3930], [21008, 34855, 65838, 9462, 0, 0, 0, 0], [1933, 7504, 5889, 17929, 0, 0, 0, 0]], [[0, 0, 5287, 0, 0, 0, 0, 4502], [0, 0, 8250, 0, 0, 0, 14722, 0], [0, 0, 12213, 0, 0, 16792, 0, 0], [19571, 91269, 21687, 511819, 27271, 0, 0, 0], [34052, 64582, 52557, 97479, 189481, 0, 0, 0], [9663, 44071, 0, 143177, 15426, 13498, 8830, 4413], [6902, 40517, 60001, 64806, 88897, 0, 0, 0], [3204, 29555, 27150, 62450, 20377, 0, 0, 0]], [[0, 0, 0, 4859, 0, 0, 0, 0], [0, 0, 0, 5659, 0, 0, 0, 5975], [12833, 0, 0, 7339, 0, 0, 15221, 0], [0, 24832, 24798, 13368, 25460, 32660, 0, 0], [0, 16345, 67897, 30061, 156439, 22695, 0, 0], [8036, 12846, 59532, 0, 192639, 13588, 8096, 4944], [0, 7621, 64024, 25339, 69696, 14370, 0, 0], [0, 8984, 11589, 15497, 14364, 16231, 0, 0]], [[0, 0, 0, 0, 4372, 0, 0, 0], [5757, 0, 0, 0, 3987, 0, 0, 0], [0, 15542, 0, 0, 6181, 0, 0, 10771], [0, 0, 26912, 24301, 11368, 23580, 17912, 0], [0, 0, 26194, 102616, 28145, 76057, 22587, 0], [5650, 7865, 11361, 118421, 0, 69976, 10947, 6474], [0, 0, 12662, 54273, 23981, 74668, 9765, 0], [0, 0, 9748, 13522, 12761, 13879, 10104, 0]], [[2963, 0, 0, 0, 0, 4119, 0, 0], [0, 12646, 0, 0, 0, 6177, 0, 0], [0, 0, 17341, 0, 0, 8193, 0, 0], [0, 0, 0, 31610, 238449, 14359, 200941, 24943], [0, 0, 0, 191196, 108945, 43313, 72181, 60780], [4824, 7228, 11546, 15431, 136522, 0, 40171, 8427], [0, 0, 0, 85138, 79609, 45246, 53108, 14810], [0, 0, 0, 18530, 85306, 13492, 23333, 4131]], [[0, 2213, 0, 0, 0, 0, 6286, 0], [0, 0, 4626, 0, 0, 0, 8508, 0], [0, 0, 0, 7218, 0, 0, 10705, 0], [0, 0, 0, 0, 12308, 9904, 15551, 5831], [0, 0, 0, 0, 10500, 133790, 55878, 32334], [4251, 5118, 6251, 8256, 245651, 290366, 0, 33203], [0, 0, 0, 0, 8679, 74211, 38731, 25078], [0, 0, 0, 0, 9080, 6160, 7166, 2763]], [[0, 0, 6308, 0, 0, 0, 0, 22147], [0, 0, 0, 86208, 0, 0, 0, 34693], [0, 0, 0, 0, 111801, 0, 0, 104535], [0, 0, 0, 0, 0, 116478, 13182, 182300], [0, 0, 0, 0, 0, 19633, 548439, 288151], [11619, 10120, 11557, 16900, 26351, 38546, 85001, 0], [0, 0, 0, 0, 0, 16532, 320770, 58616], [0, 0, 0, 0, 0, 22691, 5059, 15432]]], [[[4837, 0, 0, 0, 0, 0, 1092, 0], [4619, 0, 0, 0, 0, 2050, 0, 0], [6495, 0, 0, 0, 2864, 0, 0, 0], [10939, 0, 0, 5105, 0, 0, 0, 0], [10840, 61413, 4648, 0, 0, 0, 0, 0], [118533, 124735, 943003, 0, 0, 0, 0, 0], [0, 130707, 12902, 9165, 7911, 5812, 6409, 3440], [209977, 108203, 7871, 0, 0, 0, 0, 0]], [[0, 3266, 0, 0, 0, 0, 0, 2205], [0, 3886, 0, 0, 0, 0, 9016, 0], [0, 4891, 0, 0, 0, 11375, 0, 0], [0, 6445, 0, 0, 20979, 0, 0, 0], [3260, 7640, 7161, 28820, 0, 0, 0, 0], [52933, 36644, 129236, 6752, 0, 0, 0, 0], [30493, 0, 383183, 223717, 5065, 4079, 2901, 2021], [13928, 26363, 62053, 3524, 0, 0, 0, 0]], [[0, 0, 3290, 0, 0, 0, 0, 0], [0, 0, 4663, 0, 0, 0, 0, 2884], [0, 0, 6979, 0, 0, 0, 6525, 0], [0, 0, 10455, 0, 0, 11653, 0, 0], [10852, 20695, 16342, 25645, 22151, 0, 0, 0], [14031, 42429, 40756, 76831, 29061, 0, 0, 0], [4391, 31147, 0, 139850, 12798, 8796, 6914, 3068], [2599, 17302, 32469, 49574, 19198, 0, 0, 0]], [[0, 0, 0, 3182, 0, 0, 0, 0], [0, 0, 0, 3923, 0, 0, 0, 0], [0, 0, 0, 5266, 0, 0, 0, 9249], [13167, 0, 0, 6883, 0, 0, 20113, 0], [0, 27360, 29477, 12112, 28795, 32685, 0, 0], [0, 12995, 86777, 25063, 75268, 28695, 0, 0], [3879, 6480, 46490, 0, 161440, 10056, 6508, 3460], [0, 6155, 27343, 26174, 80876, 13835, 0, 0]], [[0, 0, 0, 0, 3219, 0, 0, 0], [0, 0, 0, 0, 2985, 0, 0, 0], [14494, 0, 0, 0, 5195, 0, 0, 0], [0, 28528, 0, 0, 5541, 0, 0, 14510], [0, 0, 58458, 27418, 12260, 25207, 45538, 0], [0, 0, 28664, 90534, 23318, 166547, 14954, 0], [3197, 5776, 11185, 96165, 0, 54184, 6913, 4127], [0, 0, 10361, 103224, 23285, 44802, 7403, 0]], [[0, 0, 0, 0, 0, 2563, 0, 0], [2515, 0, 0, 0, 0, 3151, 0, 0], [0, 6772, 0, 0, 0, 4096, 0, 0], [0, 0, 10042, 0, 0, 5802, 0, 0], [0, 0, 0, 17538, 24298, 10587, 17948, 8170], [0, 0, 0, 25422, 91928, 33805, 37564, 12248], [2361, 4426, 6886, 8963, 150273, 0, 30599, 4875], [0, 0, 0, 13063, 49764, 25377, 18842, 2567]], [[1938, 0, 0, 0, 0, 0, 3302, 0], [0, 11492, 0, 0, 0, 0, 3705, 0], [0, 0, 17345, 0, 0, 0, 4403, 0], [0, 0, 0, 33596, 0, 0, 5040, 0], [0, 0, 0, 0, 45534, 8348, 6808, 5099], [0, 0, 0, 0, 9339, 189367, 42368, 75058], [1942, 2967, 4330, 4953, 120262, 515935, 0, 43568], [0, 0, 0, 0, 5380, 85661, 31179, 24512]], [[0, 534, 0, 0, 0, 0, 0, 5170], [0, 0, 919, 0, 0, 0, 0, 5845], [0, 0, 0, 1651, 0, 0, 0, 8311], [0, 0, 0, 0, 2535, 0, 0, 10166], [0, 0, 0, 0, 0, 3028, 110636, 9550], [0, 0, 0, 0, 0, 888651, 116509, 133681], [3332, 6482, 5866, 8925, 10245, 14798, 179725, 0], [0, 0, 0, 0, 0, 18240, 107362, 166622]]], [[[7224, 0, 0, 0, 0, 0, 0, 269], [7613, 0, 0, 0, 0, 0, 539, 0], [13332, 0, 0, 0, 0, 826, 0, 0], [37310, 0, 0, 0, 1511, 0, 0, 0], [54013, 0, 0, 2181, 0, 0, 0, 0], [32313, 1790, 2555, 0, 0, 0, 0, 0], [96319, 41779, 1205, 0, 0, 0, 0, 0], [0, 55327, 14714, 10045, 8833, 6527, 7252, 5897]], [[0, 3244, 0, 0, 0, 0, 0, 0], [0, 3610, 0, 0, 0, 0, 0, 720], [0, 3971, 0, 0, 0, 0, 1732, 0], [0, 5414, 0, 0, 0, 3254, 0, 0], [0, 5146, 0, 0, 5752, 0, 0, 0], [6731, 5909, 11758, 5955, 0, 0, 0, 0], [34467, 31463, 71374, 15657, 0, 0, 0, 0], [29353, 0, 403857, 224342, 4431, 3397, 3452, 2604]], [[0, 0, 2632, 0, 0, 0, 0, 0], [0, 0, 3682, 0, 0, 0, 0, 0], [0, 0, 5058, 0, 0, 0, 0, 4536], [0, 0, 7421, 0, 0, 0, 7441, 0], [0, 0, 9690, 0, 0, 14219, 0, 0], [9225, 7823, 13078, 8897, 12635, 0, 0, 0], [2419, 31127, 28563, 73311, 7438, 0, 0, 0], [5562, 28440, 0, 123428, 10417, 8241, 5823, 3604]], [[0, 0, 0, 3149, 0, 0, 0, 0], [0, 0, 0, 3746, 0, 0, 0, 0], [0, 0, 0, 5142, 0, 0, 0, 0], [0, 0, 0, 7480, 0, 0, 0, 8604], [8961, 0, 0, 10651, 0, 0, 21601, 0], [0, 19740, 20380, 13890, 26489, 27107, 0, 0], [0, 7798, 76556, 22711, 76070, 17410, 0, 0], [5690, 7025, 53572, 0, 150536, 11968, 7229, 4826]], [[0, 0, 0, 0, 3507, 0, 0, 0], [0, 0, 0, 0, 2861, 0, 0, 0], [0, 0, 0, 0, 5039, 0, 0, 0], [7308, 0, 0, 0, 6293, 0, 0, 0], [0, 17143, 0, 0, 9677, 0, 0, 6269], [0, 0, 22065, 34624, 12989, 30055, 13526, 0], [0, 0, 18513, 68607, 23290, 81813, 13204, 0], [3930, 5066, 11288, 122191, 0, 60718, 8711, 6758]], [[0, 0, 0, 0, 0, 2098, 0, 0], [0, 0, 0, 0, 0, 2323, 0, 0], [6046, 0, 0, 0, 0, 2701, 0, 0], [0, 11513, 0, 0, 0, 4035, 0, 0], [0, 0, 19942, 0, 0, 6013, 0, 0], [0, 0, 0, 19391, 13805, 9936, 12297, 14757], [0, 0, 0, 8518, 93663, 24063, 55651, 3174], [2750, 3789, 6563, 9915, 116716, 0, 31885, 6516]], [[0, 0, 0, 0, 0, 0, 3222, 0], [730, 0, 0, 0, 0, 0, 3575, 0], [0, 1866, 0, 0, 0, 0, 3430, 0], [0, 0, 3633, 0, 0, 0, 3925, 0], [0, 0, 0, 5603, 0, 0, 4332, 0], [0, 0, 0, 0, 5680, 9818, 6238, 6612], [0, 0, 0, 0, 11099, 83942, 34953, 36983], [2187, 2677, 3634, 4945, 194812, 396599, 0, 31518]], [[236, 0, 0, 0, 0, 0, 0, 8616], [0, 511, 0, 0, 0, 0, 0, 10958], [0, 0, 955, 0, 0, 0, 0, 19462], [0, 0, 0, 1888, 0, 0, 0, 34353], [0, 0, 0, 0, 2834, 0, 0, 33617], [0, 0, 0, 0, 0, 3984, 1778, 28678], [0, 0, 0, 0, 0, 1560, 42694, 95160], [6242, 6882, 7219, 10892, 13586, 14577, 47329, 0]]]];
var total_moves = 78396983;

function drawChessLine(x1,y1,x2,y2) {
    var sx1 = offset+(x1+0.5)*scale;
    var sy1 = offset+(S-1-y1+0.5)*scale;
    var sx2 = offset+(x2+0.5)*scale;
    var sy2 = offset+(S-1-y2+0.5)*scale;
    ctx.moveTo(sx1,sy1);
    ctx.lineTo(sx2,sy2);
}

function proportionToOpacity(p) {
    return Math.min(1,p*30);
}

var scale = 70;
var offset = 20;
var S = 8; // squares on a side of a chessboard
var ctx = document.getElementById("myCanvas").getContext("2d");

// draw board grid
ctx.strokeStyle = "rgba(0,0,0,0.3)";
ctx.beginPath();
ctx.rect(offset,offset,scale*S,scale*S);
for(var i = 1; i<S;i++ ){
    ctx.moveTo(offset+i*scale,offset);
    ctx.lineTo(offset+i*scale,offset+scale*S);
    ctx.moveTo(offset,offset+i*scale);
    ctx.lineTo(offset+scale*S,offset+i*scale);
}
ctx.stroke();

// draw moves
ctx.lineWidth = scale * 0.2;
for(var x1=0;x1<S;x1++) {
    for(var y1=0;y1<S;y1++) {
        for(var x2=0;x2<S;x2++) {
            for(var y2=0;y2<S;y2++) {
                var m = moves[x1][y1][x2][y2];
                if(m>0) {
                    var p = m / total_moves;
                    var opacity = proportionToOpacity(p);
                    ctx.strokeStyle = 'rgba(0,0,0,'+opacity+')';
                    ctx.beginPath();
                    drawChessLine(x1,y1,x2,y2);
                    ctx.stroke();
                }
            }
        }
    }
}

// draw caption
ctx.font="10px Verdana";
ctx.fillStyle = "rgba(0,0,0,0.6)";
ctx.fillText("78 million moves from 1 million top-level games. https://github.com/timhutton/chessviz", offset, offset+S*scale+15);

</script>

</body>
</html>
